# 쿠키와 세션
## 쿠키(Cookie)
쿠키는 클라이언트(로컬)에 저장되는 키와 값이 들어있는 작은 데이터 파일이다. 이러한 쿠키는 클라이언트에 저장되어 필요시 정보를 참조하거나 재사용할 수 있다.

### 1. 비연결성(Connectionless)
HTTP는 TCP 연결을 맺고 요청(Requests)을 보내면 서버는 응답(Response)을 보내고 연결이 끊어진다.
물론 HTTP 1.1 버전은 커넥션을 계속 유지하는 keep-alive 옵션이 디폴트이긴 하다. 하지만 HTTP 1.0 버전은 기본적으로 connetionless이다.

### 2. 무상태(Stateless)
HTTP는 상태를 따로 저장하지 않는다. 즉, 연결이 끊어지는 순간 모든 상태 정보가 사라지게 된다. 따라서 서버는 클라이언트가 첫 번째 통신 때 보낸 정보를 두 번째 통신 때 알 수 없다.

## 세션(Session)
세션은 일정 기간 동안 같은 사용자(클라이언트)로부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 일정하게 유지시키는 기술이다.
세션은 쿠키를 기반으로 하지만 쿠키와 다르게 서버 측에서 저장하고 관리한다.
서버는 세션 ID를 이용해 클라이언트를 구분하며, 웹 브라우저가 서버에 접속해 브라우저를 종료할 떄까지 세션을 유지한다.

## 쿠키와 세션의 차이
쿠키와 세션은 HTTP의 무상태(stateless) 특성을 보완하여 사용자 상태를 유지하는 매커니즘이지만, 차이가 있다.

### 데이터 저장 위치
쿠키는 클라이언트 측 브라우저에 저장되는 반면, 세션은 서버 측에 저장된다.<br />
세션은 서버에 데이터를 저장하고 세션 ID만 쿠키를 통해 클라이언트에 전달한다.

### 보안성
쿠키는 클라이언트에 저장되므로 사용자가 직접 접근하거나 수정할 수 있어 보안에 취약하다.<br />
세션은 중요 정보가 서버에 저장되어 상대적으로 안전하다.

### 용량 제한
쿠키는 일반적으로 브라우저당 도메인별로 4KB 정도로 제한되어 있다. <br />
세션은 서버 리소스에 따라 다르지만 쿠키보다 훨씬 많은 데이터를 저장할 수 있다.

### 라이프사이클
쿠키는 개발자가 설정한 만료 시간까지 유지되며, 만료 시간을 설정하지 않으면 브라우저를 닫을 때 삭제된다.<br />
세션은 섭의 설정에 따라 관리되며 일정 시간 요청이 없거나 브라우저가 종료되면 만료되는 경우가 많다.

### 성능 영향
쿠키는 모든 HTTP 요청에 함께 전송되므로 쿠키가 많을수록 네트워크 트래픽이 증가한다. <br />
세션은 서버 메모리를 사용하므로, 서버에서 관리하는 사용자의 세션이 많을수록 서버 부하가 증가할 수 있다.

일반적으로 사용자 선호 설정이나 로그인 하지 않은 유저의 장바구니와 같은 비민감 정보는 쿠키에, 로그인 정보와 같은 중요 데이터는 세션에 저장하는 것이 적합하다. 최근에는 JWT와 같은 토큰 기반 인증 방식이 많이 사용되고 있다.