# Intro. 테스트 코드는 왜 필요한가

테스트 코드 없이 인력으로만 테스트한다면 프로젝트가 커질수록 테스트를 위한 많은 인력이 필요하게된다.
그래서 테스트 코드가 필요하다.

테스트 코드가 있더라도 사람이 테스트 하는 과정은 필요하다

테스트 코드를 작성하지 않는다면
- 변화가 생기는 매순간마다 발생할 수 있는 모든 Case 를 고려해야 한다.
- 변화가 생기는 매순간마다 모든 팀원이 동일한 고민을 해야 한다.
- 빠르게 변화하는 소프트웨어의 안전성을 보장할 수 없다.

테스트 코드가 병목이 된다면
- 프로덕션 코드의 안정성을 제공하기 힘들어진다.
- 테스트 코드 자체가 유지보수하기 어려운, 새로운 짐이 된다.
- 잘못된 검증이 이루어질 가능성이 생긴다.

올바른 테스트 코드는
- 자동화 테스트로 비교적 빠른 시간 안에 버그를 발견할 수 이쏙, 수동 테스트에 드는 비용을 크게 절약할 수 있다.
- 소프트웨어의 빠른 변화를 지원한다.
- 팀원들의 집단 지성을 팀 차원의 이익으로 승격시킨다.
- 가까이 보면 느리지만, 멀리 보면 가장 빠르다.

=> 테스트는 귀찮지만 해야 한다.

<br /><br />
# About 프로젝트
샘픔 코드
- 초간단 카페 키오스크 시스템's 주문 기능

요구사항
- 주문 목록에 음료 추가/삭제 기능
- 주문 목록 전체 지우기
- 주문 목록 총 금액 계산하기
- 주문 생성하기

# 자동화 테스트
## 단위 테스트(Unit Test)
> **작은** 코드 단위를 **독립적**으로 검증하는 테스트
- 작은 코드 단위 : 클래스 or 메소드
- 독립적 : 네트워크 등 외부 상황에 의존하지 않는 것 
→ 검증 속도가 빠르고, 안정적이다.

### [JUnit 5](https://junit.org/junit5/docs/current/user-guide/)
- 단위 테스트를 위한 테스트 프레임워크
- XUnit - Kent Beck
  - SUnit(Smalltalk), JUnit(Java), NUnit(.Net)...

<br />

---
> ✅ 요구사항 추가
> - 한 종류의 음료 여러 잔을 한 번에 담는 기능

## 테스트 케이스 세분화하기
> 질문하기 : 암묵적이거나 아직 드러나지 않은 요구사항이 있는가?
- **해피 케이스**만 요구하더라도 계속적으로 질문해서 **예외 케이스**도 확인해야한다.
- **경계값 테스트** : 범위(이상, 이하, 초과, 미만), 구간, 날짜 등

<br />

---
> ✅ 요구사항 추가
> - 가게 운영 시간(10:00 - 22:00)외에는 주문을 생성할 수 없다.

## 테스트하기 어려운 영역을 구분하고 분리하기
- 외부로 분리할수록 테스트 가능한 코드는 많아진다.
<img src="./img/section3/separation.png" alt="separation" style="width:350px;">

### 테스트하기 어려운 영역
> 결과가 변하는 함수
- [Input되는 값] 관측할 때마다 다른 값에 의존하는 코드 ⇢ 현재 날짜/시간, 랜덤 값, 전역 변수/함수, 사용자 입력 등
- [Output되는 값] 외부 세계에 영향을 주는 코드 ⇢ 표준 출력, 메시지 발송, 데이터베이스에 기록하기 등

### 테스트하기 쉬운 영역
- 순수함수(pure functions)
  - 같은 입력에는 항상 같은 결과
  - 외부 세상과 단절된 형태
  - 테스트하기 쉬운 코드
